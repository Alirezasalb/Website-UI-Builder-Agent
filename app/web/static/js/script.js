/**
 * Forces the website sandbox iframe to reload with a cache-busting timestamp.
 * This ensures the user sees the latest code generated by the agent.
 */
document.addEventListener('DOMContentLoaded', (event) => {
    const sandbox = document.getElementById('website-sandbox');

    // Only proceed if the sandbox element exists
    if (sandbox) {
        // We use the dedicated static path and append a unique timestamp
        const cacheBuster = Date.now();
        sandbox.src = `/sandbox_static/index.html?t=${cacheBuster}`;
        console.log("Sandbox refreshed with cache buster:", sandbox.src);
    }
});